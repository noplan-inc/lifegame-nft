(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{153:function(t){t.exports=JSON.parse('{"market":"0x107C4436d81D9b67f8c2F32A38a6fbE71A68Bc4A","media":"0x0c5BB46189669E8A1F22935806Ca6D9195426b3c"}')},251:function(t,e,n){},253:function(t,e,n){},259:function(t,e){},290:function(t,e){},292:function(t,e){},301:function(t,e){},303:function(t,e){},328:function(t,e){},333:function(t,e){},335:function(t,e){},342:function(t,e){},355:function(t,e){},400:function(t,e){},403:function(t,e){},438:function(t,e,n){var r={"./zora/20210101.json":439};function c(t){var e=a(t);return n(e)}function a(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}c.keys=function(){return Object.keys(r)},c.resolve=a,t.exports=c,c.id=438},442:function(t,e,n){"use strict";n.r(e);var r=n(10),c=n.n(r),a=n(107),i=n.n(a),o=n(115),u=n(53),s=n(151),f=n(239),b=(n(251),n(11)),d=n(12),l=n(4),j=n(9),v=n(6),p=n(7),h=function(t,e){return e<t},O=function(t,e){return e<=t*t-1&&e>t*t-t-1},x=function(t,e){return 0!==e&&e%t===t-1},g=function(t,e){return e%t===0},m=function(t,e,n){return function(t,e){return[e-t-1,e-t,e-t+1,e-1,e,e+1,e+t-1,e+t,e+t+1]}(e,n).filter((function(e,n){return!t.includes(n)}))},S=function(t,e){var n=[0,1,2],r=[0,3,6],c=[2,5,8],a=[6,7,8],i=[4];return function(t,e){return g(t,e)&&h(t,e)}(t,e)?m([].concat(n,r,i),t,e):function(t,e){return x(t,e)&&h(t,e)}(t,e)?m([].concat(c,n,i),t,e):function(t,e){return g(t,e)&&O(t,e)}(t,e)?m([].concat(r,a,i),t,e):function(t,e){return x(t,e)&&O(t,e)}(t,e)?m([].concat(c,a,i),t,e):h(t,e)?m([].concat(n,i),t,e):g(t,e)?m([].concat(r,i),t,e):x(t,e)?m([].concat(c,i),t,e):O(t,e)?m([].concat(a,i),t,e):m(i,t,e)},w=function(t,e){return{neighbours:S(t,e)}},C=function(t){return t.cells.map((function(e,n){return Object(b.a)(Object(b.a)({},e),w(t.size,n))}))},k=function(t){return new Array(t*t).fill({id:"",live:!1,neighbours:[]})},y=function(t){return{live:t>Math.floor(100*Math.random())}},z=function(t){return{id:"id".concat(t||0)}},L=n(13),F=function(t){Object(v.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(l.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).props=t.props,t.state={boardStatus:[],timerId:0},t.componentDidMount=function(){t.initBoardStatus()},t.hasFinished=function(){return t.state.boardStatus.every((function(t){return!t.live}))},t.countLivingNeighbours=function(e){var n=t.state.boardStatus;return e.map((function(t){return n[t].live})).filter((function(t){return t})).length},t.canLive=function(e,n){var r=t.countLivingNeighbours(e);return!(r>=4||r<=1)&&(3===r||(!(!n||2!==r)||n))},t.runLifeCycle=function(){if(!t.hasFinished()){var e=t.state.boardStatus.map((function(e){var n=t.canLive(e.neighbours,e.live);return Object(b.a)(Object(b.a)({},e),{},{live:n})}));t.setState({boardStatus:e})}},t.initBoardStatus=function(){var e=t.props,n=e.spawnRate,r=e.boardSize,c=e.initStatus;if(c)return t.setState({boardStatus:c});var a=k(r).map((function(t,e){return Object(b.a)(Object(b.a)(Object(b.a)(Object(b.a)({},t),z(e)),y(n)),w(r,e))}));t.setState({boardStatus:a})},t.start=function(){var e=Object(j.a)(t).runLifeCycle,n=t.props.intervalTime,r=setInterval(e,n);t.setState(Object(b.a)(Object(b.a)({},t.state),{},{timerId:r}))},t.stop=function(){clearInterval(t.state.timerId)},t.setCells=function(e){t.setState(Object(b.a)(Object(b.a)({},t.state),{},{boardStatus:e}))},t.render=function(){var e=t.props,n=e.boardSize,r=e.cellSize,c=e.render,a=e.mode,i={boardSize:n,cellSize:r,boardStatus:t.state.boardStatus,mode:a,start:t.start,stop:t.stop,setCells:t.setCells};return Object(L.jsx)("div",{children:c(i)})},t}return n}(r.Component),N=(n(253),n(3)),E=n.n(N),I=n(69),T=n(46),A=function(){return window.location.reload()},B=function(t,e,n,r){var c="1px solid #000";return{display:"inline-block",width:"".concat(t,"px"),height:"".concat(t,"px"),margin:0,padding:0,lineHeight:0,background:e?"#000":"#fff",boxSizing:"border-box",borderTop:c,borderLeft:c,borderRight:x(n,r)?c:"none",borderBottom:O(n,r)?c:"none"}},M=function(t){var e=t.boardSize,n=t.cellSize,c=t.boardStatus,a=t.start,i=t.stop,o=t.setCells,u=t.mode,s=Object(r.useState)(e),f=Object(d.a)(s,2),l=f[0],j=f[1],v=function(){var t=Object(T.a)(E.a.mark((function t(e){var n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(I.a)(c),r=n.map((function(t){return Object(b.a)(Object(b.a)({},t),{},{live:t.id===e.id?!t.live:t.live})})),o(r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p="editor"===u,h=function(){var t=Object(T.a)(E.a.mark((function t(){var e,n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=c.map((function(t){return{id:t.id,live:t.live}})),n={size:Math.sqrt(c.length),cells:e},r=JSON.stringify(n),console.log(r);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(T.a)(E.a.mark((function t(){var e;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=c.map((function(t){return Object(b.a)(Object(b.a)({},t),{},{live:!1})})),o(e);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(L.jsxs)("div",{children:[p?Object(L.jsxs)("div",{children:[Object(L.jsx)("textarea",{onChange:function(t){var e=JSON.parse(t.currentTarget.value),n=C(e);o(n)}}),Object(L.jsx)("input",{placeholder:"boardSize must be able to sqrt",onChange:function(t){var e=parseInt(t.currentTarget.value);if(e>50||isNaN(e))alert("boardSize is max(50). ".concat(e," is invalid."));else{var n=k(e).map((function(t,n){return Object(b.a)(Object(b.a)(Object(b.a)(Object(b.a)({},t),z(n)),y(50)),w(e,n))}));j(e),o(n)}}})]}):Object(L.jsx)(L.Fragment,{}),Object(L.jsxs)("div",{children:[Object(L.jsx)("button",{type:"button",onClick:a,children:"start"}),Object(L.jsx)("button",{type:"button",onClick:A,children:"reload"}),Object(L.jsx)("button",{type:"button",onClick:i,children:"stop"}),p?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("button",{type:"button",onClick:h,children:"print"}),Object(L.jsx)("button",{type:"button",onClick:O,children:"clearAll"})]}):Object(L.jsx)(L.Fragment,{})]}),Object(L.jsx)("div",{style:{fontSize:0},children:c.map((function(t,e){return Object(L.jsxs)("span",{children:[Object(L.jsx)("i",{style:B(n,t.live,l,e),onClick:Object(T.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:case"end":return e.stop()}}),e)})))}),x(l,e)&&Object(L.jsx)("br",{})]},t.id)}))})]})},J=new(n(240).a)({supportedChainIds:[1,3,4,5,42,97]});var D=n(234),H=n(153),R=function(){var t=Object(T.a)(E.a.mark((function t(e){var n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:if((n=t.sent).ok){t.next=5;break}return t.abrupt("return",[]);case 5:return t.next=7,n.json();case 7:if((r=t.sent).size){t.next=10;break}return t.abrupt("return",[]);case 10:return t.abrupt("return",C(r));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),q=function(){var t=Object(u.b)(),e=t.library,n=t.chainId,c=Object(r.useState)([]),a=Object(d.a)(c,2),i=a[0],o=a[1];return Object(r.useEffect)((function(){function t(){return(t=Object(T.a)(E.a.mark((function t(){var r,c,a,i,u,s,f;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e&&void 0!==n){t.next=2;break}return t.abrupt("return");case 2:return r=e.getSigner(),c=new D.Zora(r,n,H.media,H.market),t.next=6,c.fetchTotalMedia();case 6:a=t.sent,i=[],u=2;case 9:if(!(u<2+a.toNumber())){t.next=20;break}return t.next=12,c.fetchContentURI(u);case 12:return s=t.sent,t.next=15,R(s);case 15:f=t.sent,i.push(f);case 17:u++,t.next=9;break;case 20:o([].concat(i));case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e,n]),Object(L.jsx)(L.Fragment,{children:i.map((function(t,e){return Object(L.jsx)("div",{children:Object(L.jsx)(F,{mode:"viewer",intervalTime:500,cellSize:20,spawnRate:25,boardSize:Math.sqrt(t.length),initStatus:t,render:function(t){return Object(L.jsx)(M,Object(b.a)({},t))}})},e)}))})};var U=function(){var t=Object(u.b)(),e=t.connector,n=t.active,a=t.error,i=t.activate,o=t.setError,s=c.a.useState(),f=Object(d.a)(s,2),l=f[0],j=f[1];c.a.useEffect((function(){l&&l===e&&j(void 0)}),[l,e]);var v=function(){var t=Object(u.b)(),e=t.activate,n=t.active,c=Object(r.useState)(!1),a=Object(d.a)(c,2),i=a[0],o=a[1];return Object(r.useEffect)((function(){J.isAuthorized().then((function(t){t?e(J,void 0,!0).catch((function(){o(!0)})):o(!0)}))}),[]),Object(r.useEffect)((function(){!i&&n&&o(!0)}),[i,n]),i}();return function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=Object(u.b)(),n=e.active,c=e.error,a=e.activate;Object(r.useEffect)((function(){var e=window.ethereum;if(e&&e.on&&!n&&!c&&!t){var r=function(){console.log("Handling 'connect' event"),a(J)},i=function(t){console.log("Handling 'chainChanged' event with payload",t),a(J)},o=function(t){console.log("Handling 'accountsChanged' event with payload",t),t.length>0&&a(J)},u=function(t){console.log("Handling 'networkChanged' event with payload",t),a(J)};return e.on("connect",r),e.on("chainChanged",i),e.on("accountsChanged",o),e.on("networkChanged",u),function(){e.removeListener&&(e.removeListener("connect",r),e.removeListener("chainChanged",i),e.removeListener("accountsChanged",o),e.removeListener("networkChanged",u))}}}),[n,c,t,a])}(!v||!!l),Object(L.jsxs)("div",{className:"App",children:[Object(L.jsxs)("div",{children:["connected: ",JSON.stringify(v),", account:"," ",JSON.stringify({active:n,error:a,activate:i,setError:o})]}),Object(L.jsx)("div",{children:Object(L.jsx)("button",{onClick:function(){i(J).then()},children:"connect"})}),Object(L.jsxs)("div",{children:[Object(L.jsx)("h2",{children:"editor"}),Object(L.jsx)(F,{mode:"editor",intervalTime:500,cellSize:20,spawnRate:25,boardSize:25,render:function(t){return Object(L.jsx)(M,Object(b.a)({},t))}})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)("h2",{children:"market"}),Object(L.jsx)(q,{})]})]})},P=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,446)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),r(t),c(t),a(t),i(t)}))};i.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(u.a,{getLibrary:function(t){return new s.a(t)},children:Object(L.jsxs)(o.a,{children:[Object(L.jsx)(f.a,{}),Object(L.jsx)(U,{})]})})}),document.getElementById("root")),P()}},[[442,1,2]]]);
//# sourceMappingURL=main.7eec1b44.chunk.js.map